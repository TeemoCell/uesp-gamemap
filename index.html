<!DOCTYPE html>
<html>
	<head>

		<!-- Placeholder title (gets replaced by dynamic map name later) -->
		<title>UESP Gamemap</title>

		<!-- Favicon -->
		<link rel="icon" type="image/x-icon" href="assets/icons/favicon.ico">

		<!-- Let the browser know this site is optimized for mobile -->
		<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

		<!-- Import css -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="./css/materialise.css" media="screen,projection"/>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin="" />
		<link rel="stylesheet" href="./css/gamemap.css"/>
		
   </head>

   <body>
		<!-- Map container -->
		<div id="gamemap"></div>

		<div class="icon_bar_responsive">
			<button id="btn_location_switcher" class='btn_icon_button waves-effect banishdefault' title="Jump to location" onclick="showLocationSwitcher();">
				<i class="material-icons onlymobile">explore</i>
				<b class="icon_button_label nomobile" id="current_location_label">Loading...</b>
				<i id="dropdown_icon" class="material-icons nomobile">expand_more</i>
			</button>

			<button id="btn_goto_article" class='btn_icon_button waves-effect banishdefault' title="Goto article for this location" onclick="gotoArticle()">
				<i class="material-icons">article</i>
				<b class="icon_button_label nomobile">Goto Article</b>
			</button>

			<button id="btn_permalink" class='btn_icon_button waves-effect' title="Copy link to this location" onclick="copyMapLink()">
				<i class="material-icons">link</i><b class="icon_button_label nomobile">Copy Link</b>
			</button>
		</div>

		<div class="icon_bar_persistent">
			<button id="btn_more" class='btn_icon_button waves-effect dropdown-trigger' title="More" data-target='overflow-menu'>
				<i class="material-icons">more_vert</i>

				<!-- Overflow Menu Items -->
				<ul id='overflow-menu' class='dropdown-content'>
					<li><a onclick="showHelp()" href="javascript:void(0);">Help</a></li>
					<li><a onclick="showMapKey()" href="javascript:void(0);">Map Key</a></li>
					<li><a onclick="resetMap()" href="javascript:void(0);">Reset Map</a></li>
				</ul>
			</button>

			<!-- <button id="btn_recent_changes" class='btn_icon_button waves-effect waves-light' title="Toggle recent changes"><i class="material-icons">more_vert</i></button> -->
			<!-- <button id="btn_toggle_edit" class='btn_icon_button waves-effect waves-light' title="Toggle edit mode"><i class="material-icons">more_vert</i></button> -->

			<!-- <button id="editWorldButton" class="gmNoMobile" style="display:none;" onclick="g_GameMap.onEditWorld();" ontouchstart="g_GameMap.onEditWorld();">Edit World</button>
			<button id="addLocationButton" class="gmNoMobile" style="display:none;" onclick="g_GameMap.onAddLocationStart();"  ontouchstart="g_GameMap.onAddLocationStart();">Add Location</button>
			<button id="addPathButton" class="gmNoMobile" style="display:none;" onclick="g_GameMap.onAddPathStart();"  ontouchstart="g_GameMap.onAddPathStart();">Add Path</button>
			<button id="addAreaButton" class="gmNoMobile" style="display:none;" onclick="g_GameMap.onAddAreaStart();"  ontouchstart="g_GameMap.onAddAreaStart();">Add Area</button>
			<div id="showRecentChangeButton" class="gmToggleButton gmNoMobile" style="display:none;" onclick="g_GameMap.onRecentChanges(this);" ontouchstart="g_GameMap.onRecentChanges(this);">Recent Changes</div> -->
		</div>

		<!-- Search Container -->
		<div class = 'search_root' id="search_root">

			<div class='search_container'>
				<!-- Search Bar -->
				<div class='search_bar' tabindex="0">
					<div class="search_icon">
						<i class="material-icons">search</i>
					</div>
	
					<div class='searchbox_container'>
						<input class='search_box' type='search' id='searchbox' placeholder="Where would you like to go?" size='25' maxlength='100' autocomplete='off' />
					</div>
	
					<div class='clear_search_container waves-effect waves-circle' >
						<button id="btn_clear_search" class='btn_bgless_icon_button hidedefault' title="Clear the current search" type='reset'><span class="material-symbols-outlined">close</span></button>
					</div>
				</div>
				<!-- Search Results -->
				<div class='search_results_container banishdefault'>

						<label class="waves-effect">
						  <input type="checkbox" class="filled-in" checked="checked" />
						  <span>Only show results from this map</span>
						</label>

					<div class="horizontal_divider"></div>
					<div class='search_results'>
						<p>blah blah blah</p>
						<p>blah blah blah</p>
						<p>blah blah blah</p>
						<p>blah blah blah</p>
						<p>blah blah blah</p>
						<p>blah blah blah</p>
					</div>
				</div>
			</div>
		</div>

		<div id="zoom_widget" class="hidedefault">
			<button class="btn_zoom waves-effect" onclick="zoomIn()" id="btn_zoom_in" tabindex="-1" title="Zoom in"><i class="material-icons">add</i></button>
			<div class="horizontal_divider"></div>
			<button class="btn_zoom waves-effect" onclick="zoomOut()" id="btn_zoom_out" tabindex="-1" title="Zoom out"><i class="material-icons">remove</i></button>
		</div>

		<!-- Error container -->
		<div id="error_box" class="error_container hidedefault preload_box">
			<span class="error_title">
				<i class="medium material-icons">error</i><br/>
				<b>Something went wrong.</b>
			</span>
			<div class="horizontal_divider"></div>
			<p id="error_box_reason">A reason should be put here.</p>
		</div>

		<!-- Loading spinner container -->
		<div id="loading_spinner" class="spinner_container preload_box">
			<div class="preloader-wrapper big active">
				<div class="spinner-layer">
					<div class="circle-clipper left">
						<div class="circle"></div>
					</div><div class="gap-patch">
						<div class="circle"></div>
					</div><div class="circle-clipper right">
						<div class="circle"></div>
					</div>
				</div>
			</div>

			<p id="loading_reason">Loading config...</p>
		</div>

		<!-- <div class="progress_bar">
			<div class="progress"><div class="indeterminate"></div></div>
		</div> -->

		<!-- Load JS at end of body for optimised loading -->
		<script src="./src/lib/jquery.js"></script>
		<script src="./src/lib/materialise.js"></script>
		<script src="./src/lib/leaflet.js"></script>
		<script src="./src/main.js" type="module"></script>
		
	</body>
</html>
